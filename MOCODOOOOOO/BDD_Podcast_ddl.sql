-- Generated by Mocodo 4.1.2

CREATE DATABASE if NOT EXISTS Podcast;

USE Podcast;

CREATE TABLE IF NOT EXISTS categorie (
  id BIGINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
  Nom VARCHAR(100),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE IF NOT EXISTS commentaire (
  id BIGINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
  id_Podcast BIGINT UNSIGNED
  body TEXT NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE IF NOT EXISTS podcast (
  id BIGINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
  Nom                     VARCHAR(100),
  excerpt                 VARCHAR(300),
  body                    TEXT NOT NULL,
  Lien_Fichier_Audio      VARCHAR(150),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  id_categorie BIGINT UNSIGNED,
  id_user BIGINT UNSIGNED
);

CREATE TABLE IF NOT EXISTS users (
  id BIGINT UNSIGNED PRIMARY KEY AUTO_INCREMENT,
  Fullname             VARCHAR(100),
  picture              VARCHAR(150),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  
);

ALTER TABLE podcast ADD FOREIGN KEY (id_categorie) REFERENCES categorie (id);
ALTER TABLE commentaire ADD FOREIGN KEY (id_Podcast) REFERENCES podcast (id);

ALTER TABLE commentaire ADD FOREIGN KEY (id_user) REFERENCES users (id);
